# **–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ27**

üîñ–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–ª—è –∫—É—Ä—Å–∞ [Administrator Linux.Professional](https://otus.ru/lessons/linux-professional/)

## **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è MySQL**
 
–í–∞—Ä–∏–∞–Ω—Ç—ã —Å—Ç–µ–Ω–¥–∞:

–í –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ Vagrantfile (https://gitlab.com/otus_linux/stands-mysql/-/tree/master/) –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ –¥–∞–º–ø –±–∞–∑—ã bet.dmp.

–ë–∞–∑—É —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –º–∞—Å—Ç–µ—Ä–µ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ç–∞–±–ª–∏—Ü—ã: bookmaker, competition, market, odds, outcome.
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GTID —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é. 

–§–æ—Ä–º–∞—Ç —Å–¥–∞—á–∏ –î–ó - vagrant + ansible

# **–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**

–ó–¥–µ—Å—å:
- `readme.md` - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
- `Vagrantfile` - —Ñ–∞–π–ª –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è `Vagrant`

# **–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è ‚Ññ27**

–†–µ–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö MySQL (–∏—Å—Ç–æ—á–Ω–∏–∫–∞) –Ω–∞ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö MySQL (—Ä–µ–ø–ª–∏–∫–∏). 
–†–µ–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞; —Ä–µ–ø–ª–∏–∫–∞–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞. 
–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ —Ä–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –¥–∞–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –≤ MySQL –≤–∫–ª—é—á–∞—é—Ç –≤ —Å–µ–±—è:

- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–µ–ø–ª–∏–∫–∞–º–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –í —ç—Ç–æ–π —Å—Ä–µ–¥–µ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏. –û–¥–Ω–∞–∫–æ —á—Ç–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–ø–ª–∏–∫–∞—Ö. –≠—Ç–∞ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏ (–ø–æ—Å–∫–æ–ª—å–∫—É –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π), –∞ —Ç–∞–∫–∂–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ —á–∏—Å–ª–∞ —Ä–µ–ø–ª–∏–∫.

- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö ‚Äî –ø–æ—Å–∫–æ–ª—å–∫—É –¥–∞–Ω–Ω—ã–µ —Ä–µ–ø–ª–∏—Ü–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–ø–ª–∏–∫—É, –∞ —Ä–µ–ø–ª–∏–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–ª—É–∂–±—ã —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–µ–ø–ª–∏–∫–µ –±–µ–∑ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ ‚Äî –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ, –∞ –∞–Ω–∞–ª–∏–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ä–µ–ø–ª–∏–∫–µ, –Ω–µ –≤–ª–∏—è—è –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –±–æ–ª—å—à–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è ‚Äî –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–π –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–∞–π—Ç–µ –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É.

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å—Ç–µ–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ–º `Vagrantfile`, –∑–∞—Ö–æ–¥–∏–º –Ω–∞ master –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
```
SHOW MASTER STATUS\G
```

–Ω–∞ replica:
```
SHOW SLAVE STATUS\G;
```

![MASTER](https://github.com/MsyuLuch/LinuxProfessional/blob/main/homework-27/images/master.png)
![REPLICA](https://github.com/MsyuLuch/LinuxProfessional/blob/main/homework-27/images/replica.png)

***–£—Å—Ç–∞–Ω–æ–≤–∫–∞ MYSQL***

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MySQL –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –∏ —Ä–µ–ø–ª–∏–∫—É:
```
sudo yum install https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm 
sudo yum install mysql-community-server
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å root –∏ –ø–æ–≤—ã—Å–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞:
```
mysql_secure_installation
```

–î–æ–±–∞–≤–∏–º –≤ –¥–æ–º–∞—à–Ω—é—é –ø–∞–ø–∫—É root —Ñ–∞–π–ª `my.cnf` —Å –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º:
```
[client]
user="root"
password="Replication2022#"
```

***–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MASTER***

–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (GTID) ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π, 
—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–π –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–∏—Å—Ç–æ—á–Ω–∏–∫–µ). –≠—Ç–æ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–Ω–∏–∫–∞–ª–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω –±—ã–ª —Å–æ–∑–¥–∞–Ω, –Ω–æ –∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ 
–≤ –¥–∞–Ω–Ω–æ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏.

–ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ, –µ–π –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π GTID –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—ã–ª–∞ –∑–∞–ø–∏—Å–∞–Ω–∞ –≤ –¥–≤–æ–∏—á–Ω—ã–π –∂—É—Ä–Ω–∞–ª. 
–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∏–º–µ—é—Ç –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–∏–µ GTID –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –º–µ–∂–¥—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏. 

–†–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ç–æ—Ç –∂–µ GTID, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –Ω–∞–∑–Ω–∞—á–µ–Ω —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ. 

–î–ª—è master –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª `/etc/my.cnf`:
```
[mysqld]
bind-address = 192.168.11.150

gtid_mode=ON
enforce-gtid-consistency

server-id = 1

log_bin = mysql-bin
log-error=/var/log/mysqld.log

replicate-do-db=bet
replicate-do-table=bet.bookmaker
replicate-do-table=bet.competition
replicate-do-table=bet.market
replicate-do-table=bet.odds
replicate-do-table=bet.outcome
```
–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

`bind-address`                        - –∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å MySQL

`gtid_mode=ON
 enforce-gtid-consistency`            - –∞–∫—Ç–∏–≤–∞—Ü–∏—è GTID
 
`server-id`                           - –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —Å–µ—Ä–≤–µ—Ä–∞, –¥–ª—è master =1

`log_bin`                             - –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏

`replicate-do-db, replicate-do-table` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ë–î –∏ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å MySQL:
``` 
sudo systemctl restart mysqld 
```
–°–æ–∑–¥–∞–¥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ –¥–∞–¥–∏–º –µ–º—É –ø—Ä–∞–≤–∞ –Ω–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é:
```
CREATE USER 'replication_user'@'192.168.11.151' IDENTIFIED BY 'Replication2022#';
GRANT REPLICATION SLAVE ON *.* TO 'replication_user'@'192.168.11.151';
```
–°–æ–∑–¥–∞–¥–∏–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `bet`, –∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–∞–º–ø–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
```
Last login: Tue Jan 25 07:09:08 2022 from 10.0.2.2
[vagrant@master ~]$ sudo su
[root@master vagrant]# mysql
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 5
Server version: 5.7.37-log MySQL Community Server (GPL)

Copyright (c) 2000, 2022, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> SHOW MASTER STATUS;
+------------------+----------+--------------+------------------+-------------------------------------------+
| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set                         |
+------------------+----------+--------------+------------------+-------------------------------------------+
| mysql-bin.000002 |      464 |              |                  | 6ece991b-7da7-11ec-9473-5254004d77d3:1-39 |
+------------------+----------+--------------+------------------+-------------------------------------------+
1 row in set (0.01 sec)

mysql> SHOW BINARY LOGS;
+------------------+-----------+
| Log_name         | File_size |
+------------------+-----------+
| mysql-bin.000001 |     92744 |
| mysql-bin.000002 |       464 |
+------------------+-----------+
2 rows in set (0.01 sec)
```

***–ù–∞—Å—Ç—Ä–æ–π–∫–∞ REPLICA***

–î–ª—è replica –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª `/etc/my.cnf`, –º–µ–Ω—è—è –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —Å–µ—Ä–≤–µ—Ä–∞ `server-id = 2`:
```
[mysqld]
bind-address = 192.168.11.151

gtid_mode=ON
enforce-gtid-consistency

server-id = 2
```
–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å MySQL:
``` 
sudo systemctl restart mysqld 
```
–ü–µ—Ä–µ–≤–æ–¥–∏–º —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º —Ä–µ–ø–ª–∏–∫–∏:
```
CHANGE MASTER TO MASTER_HOST="192.168.11.150", MASTER_PORT = 3306, MASTER_USER="replication_user", MASTER_PASSWORD="Replication2022#", MASTER_AUTO_POSITION=1;'
START SLAVE;
```
–ü—Ä–æ–≤–µ—Ä—è–µ–º:
```
SHOW SLAVE STATUS\G;
*************************** 1. row ***************************
               Slave_IO_State: Waiting for master to send event
                  Master_Host: 192.168.11.150
                  Master_User: replication_user
                  Master_Port: 3306
                Connect_Retry: 60
              Master_Log_File: mysql-bin.000002
          Read_Master_Log_Pos: 194
               Relay_Log_File: replica-relay-bin.000005
                Relay_Log_Pos: 407
        Relay_Master_Log_File: mysql-bin.000002
             Slave_IO_Running: Yes
            Slave_SQL_Running: Yes
              Replicate_Do_DB: 
          Replicate_Ignore_DB: 
           Replicate_Do_Table: 
       Replicate_Ignore_Table: 
      Replicate_Wild_Do_Table: 
  Replicate_Wild_Ignore_Table: 
                   Last_Errno: 0
                   Last_Error: 
                 Skip_Counter: 0
          Exec_Master_Log_Pos: 194
              Relay_Log_Space: 656
              Until_Condition: None
               Until_Log_File: 
                Until_Log_Pos: 0
           Master_SSL_Allowed: No
           Master_SSL_CA_File: 
           Master_SSL_CA_Path: 
              Master_SSL_Cert: 
            Master_SSL_Cipher: 
               Master_SSL_Key: 
        Seconds_Behind_Master: 0
Master_SSL_Verify_Server_Cert: No
                Last_IO_Errno: 0
                Last_IO_Error: 
               Last_SQL_Errno: 0
               Last_SQL_Error: 
  Replicate_Ignore_Server_Ids: 
             Master_Server_Id: 1
                  Master_UUID: 6ece991b-7da7-11ec-9473-5254004d77d3
             Master_Info_File: /var/lib/mysql/master.info
                    SQL_Delay: 0
          SQL_Remaining_Delay: NULL
      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates
           Master_Retry_Count: 86400
                  Master_Bind: 
      Last_IO_Error_Timestamp: 
     Last_SQL_Error_Timestamp: 
               Master_SSL_Crl: 
           Master_SSL_Crlpath: 
           Retrieved_Gtid_Set: 6ece991b-7da7-11ec-9473-5254004d77d3:1-38
            Executed_Gtid_Set: 6ece991b-7da7-11ec-9473-5254004d77d3:1-38
                Auto_Position: 1
         Replicate_Rewrite_DB: 
                 Channel_Name: 
           Master_TLS_Version: 
1 row in set (0.01 sec)
```

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏. –ù–∞ –º–∞—Å—Ç–µ—Ä–µ –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É:
```
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| bet                |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.04 sec)

mysql> use bet
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> show tables;
+------------------+
| Tables_in_bet    |
+------------------+
| bookmaker        |
| competition      |
| events_on_demand |
| market           |
| odds             |
| outcome          |
| v_same_event     |
+------------------+
7 rows in set (0.01 sec)

mysql> select * from bookmaker
    -> ;
+----+----------------+
| id | bookmaker_name |
+----+----------------+
|  4 | betway         |
|  5 | bwin           |
|  6 | ladbrokes      |
|  3 | unibet         |
+----+----------------+
4 rows in set (0.01 sec)

mysql> INSERT INTO bookmaker (id,bookmaker_name) VALUES(10,'books');
Query OK, 1 row affected (0.04 sec)

mysql> select * from bookmaker;
+----+----------------+
| id | bookmaker_name |
+----+----------------+
|  4 | betway         |
| 10 | books          |
|  5 | bwin           |
|  6 | ladbrokes      |
|  3 | unibet         |
+----+----------------+
5 rows in set (0.00 sec)
```
–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ —Ä–µ–ø–ª–∏–∫–µ:
```
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| bet                |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.03 sec)

mysql> use bet;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> show tables;
+------------------+
| Tables_in_bet    |
+------------------+
| bookmaker        |
| competition      |
| events_on_demand |
| market           |
| odds             |
| outcome          |
| v_same_event     |
+------------------+
7 rows in set (0.01 sec)

mysql> select * from bookmaker;
+----+----------------+
| id | bookmaker_name |
+----+----------------+
|  4 | betway         |
| 10 | books          |
|  5 | bwin           |
|  6 | ladbrokes      |
|  3 | unibet         |
+----+----------------+
5 rows in set (0.00 sec)
```


