# **–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ26**

üîñ–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–ª—è –∫—É—Ä—Å–∞ [Administrator Linux.Professional](https://otus.ru/lessons/linux-professional/)

## **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
 
–í–∞—Ä–∏–∞–Ω—Ç—ã —Å—Ç–µ–Ω–¥–∞:

1. nginx + php-fpm (laravel/wordpress) + python (flask/django) + js(react/angular);
2. nginx + java (tomcat/jetty/netty) + go + ruby;
3. –º–æ–∂–Ω–æ —Å–≤–æ–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏.

–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ –≤—ã–±–æ—Ä:
1. –Ω–∞ —Ö–æ—Å—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥–∏ –≤ /etc;
2. –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ docker-compose.

–ö —Å–¥–∞—á–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è:
- vagrant —Å—Ç—ç–Ω–¥ —Å –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω—ã–º–∏ –Ω–∞ –ª–æ–∫–∞–ª—Ö–æ—Å—Ç –ø–æ—Ä—Ç–∞–º–∏
- –∫–∞–∂–¥—ã–π –ø–æ—Ä—Ç –Ω–∞ —Å–≤–æ–π —Å–∞–π—Ç
- —á–µ—Ä–µ–∑ NGINX

–§–æ—Ä–º–∞—Ç —Å–¥–∞—á–∏ –î–ó - vagrant + ansible

# **–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**

–ó–¥–µ—Å—å:
- `readme.md` - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
- `VagrantFile` - —Ñ–∞–π–ª –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è `Vagrant`

# **–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è ‚Ññ26**

–ü—Ä–æ–≤–µ—Ä–∏–º —Ä–∞–±–æ—Ç—É —Å—Ç–µ–Ω–¥–æ–≤:
```
http://10.0.0.100:8080  PHP-FPM
http://10.0.0.100:8081  DJANGO
http://10.0.0.100:8082  NodeJS
```
![PHP-FPM](https://github.com/MsyuLuch/LinuxProfessional/blob/main/homework-26/image/php-fpm.png)
![DJANGO](https://github.com/MsyuLuch/LinuxProfessional/blob/main/homework-26/image/django.png)
![NODEJS](https://github.com/MsyuLuch/LinuxProfessional/blob/main/homework-26/image/nodejs.png)

–£—Å—Ç–∞–Ω–æ–≤–∏–º NGINX, –æ–Ω –ø–æ–∑–≤–æ–ª–∏—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞–ø—Ä–∞–≤–ª—è—è –∏—Ö –Ω–∞ —Ä–∞–∑–Ω—ã–µ backend`s. –î–æ–±–∞–≤–∏–º –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é NGINX –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–µ–Ω–¥–∞.

PHP-FPM –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –Ω–∞ localhost –ø–æ—Ä—Ç 9000:
```
        location ~ \.php$ {
        fastcgi_pass 127.0.0.1:9000;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include /etc/nginx/fastcgi_params;
        } 
```
DJANGO –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å —Å–æ–∫–µ—Ç `uwsgi`:
```
        location / {
            include uwsgi_params;
        uwsgi_pass unix:/run/uwsgi/firstsite.sock;
        } 
```
NODEJS –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –Ω–∞ localhost –ø–æ—Ä—Ç 8000:
```
        location / {
            proxy_pass http://localhost:8000;
        } 
```

***–ü–µ—Ä–≤—ã–π —Å—Ç–µ–Ω–¥ - PHP-FPM***

PHP-FPM ‚Äî —ç—Ç–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è PHP FastCGI —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤.

–°–æ–∑–¥–∞–¥–∏–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/var/www/php-fpm` –∏ –ø–æ–º–µ—Å—Ç–∏–º –≤ –Ω–µ—ë —Ñ–∞–π–ª `index.php` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```
<?php phpinfo() ?>
```

–£—Å—Ç–∞–Ω–æ–≤–∏–º php-fpm –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –µ–≥–æ —Ä–∞–±–æ—Ç—ã –ø–∞–∫–µ—Ç—ã:
```
- name: Install packages for php-fpm
  yum:
    name:
      - php
      - php-fpm 
      - php-cli
      - php-json
      - php-pdo 
      - php-mysql
      - php-zip
      - php-gd 
      - php-mbstring
      - php-curl
      - php-xml
      - php-pear
      - php-bcmath
    state: present 
```

–ó–∞–ø—É—Å–∫–∞–µ–º php-fpm:
```
systemctl start php-fpm
```
–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É —Å—Ç–µ–Ω–¥–∞.

***–í—Ç–æ—Ä–æ–π —Å—Ç–µ–Ω–¥ - Django***

Django ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ Python —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –ø–æ–º–æ—â–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

–£—Å—Ç–∞–Ω–æ–≤–∏–º Python 3.6 –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–∞–∫–µ—Ç—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `IUS`, –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: 
```
- name: Add repository repo.ius.io
  yum:
    name: https://repo.ius.io/ius-release-el7.rpm
    state: present

- name: Install Python from IUS
  yum:
    name: ['python36u', 'python36u-pip', 'python36u-devel']
    state: present
```

–°–æ–∑–¥–∞–¥–∏–º —Å—Å—ã–ª–∫–∏ –Ω–∞ pyton3 –∏ pip3, —Å –ø–æ–º–æ—â—å—é –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤ pip —É—Å—Ç–∞–Ω–æ–≤–∏–º Django:
```
pip3 install Django==2.1.*  
```

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç Django —Å –∏–º–µ–Ω–µ–º firstsite –∏—Å–ø–æ–ª—å–∑—É–µ–º —É—Ç–∏–ª–∏—Ç—É –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ django-admin:
```
/usr/local/bin/django-admin startproject firstsite
```

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è –≤—ã—à–µ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç –∫–∞—Ç–∞–ª–æ–≥ firstsite –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ:
```
firstsite/
|-- manage.py
`-- firstsite
    |-- __init__.py
    |-- settings.py
    |-- urls.py
    `-- wsgi.py
```
–í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –µ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Å –∏–º–µ–Ω–µ–º manage.py –∏ –∫–∞—Ç–∞–ª–æ–≥, –≤–∫–ª—é—á–∞—é—â–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ settings.py,
–¥–æ–±–∞–≤–∏–≤ IP –Ω–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∞:
```
ALLOWED_HOSTS = ['10.0.0.100']
```

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å uWSGI ‚Äì —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–π —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ—Å—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ WSGI.
–¢–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∏–º uWSGI:
```
sudo pip3 install uwsgi
```
–ó–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ Emperor mode, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–µ–¥—É—â–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. 
–°–æ–∑–¥–∞–¥–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª `/etc/uwsgi/sites/firstsite.ini`:
```
[uwsgi]
project = firstsite
username = django
base = /var/www/%(username)
chdir = %(base)/%(project)
module = %(project).wsgi:application
master = true
processes = 5
uid = %(username)
socket = /run/uwsgi/%(project).sock
chown-socket = %(username):nginx
chmod-socket = 660
vacuum = true
daemonize=/var/log/uwsgi/firstsite.log
```

–í —Ñ–∞–π–ª–µ –æ–ø–∏—à–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º:
```
project - –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞
username - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç
base - –ø—É—Ç—å –∫ –¥–æ–º–∞—à–Ω–µ–º—É –∫–∞—Ç–∞–ª–æ–≥—É
chdir - –∏–∑–º–µ–Ω—è–µ—Ç –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞ 
module - –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º callable application –∏–∑ —Ñ–∞–π–ª–∞ wsgi.py –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–æ–µ–∫—Ç–∞
processes - c–æ–∑–¥–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å 5 —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
socket - –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å –±—É–¥–µ–º —Å–æ–∫–µ—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–æ–≤–∏–º –ø—Ä–∞–≤–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
vacuum - –æ–ø—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—Å—Ç–∏—Ç —Ñ–∞–π–ª —Å–æ–∫–µ—Ç–∞ –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–∏—Å–∞
```

Django-–ø—Ä–æ–µ–∫—Ç—ã –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å. –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º unit-—Ñ–∞–π–ª:
```
[Unit]
Description=uWSGI Emperor service
[Service]
ExecStartPre=/usr/bin/bash -c 'mkdir -p /run/uwsgi; chown django:nginx /run/uwsgi'
ExecStart=/usr/local/bin/uwsgi --emperor /etc/uwsgi/sites
Restart=always
KillSignal=SIGQUIT
Type=notify
NotifyAccess=all
[Install]
WantedBy=multi-user.target
```

–î–∏—Ä–µ–∫—Ç–∏–≤–∞ `ExecStartPre` –∑–∞–ø—É—Å–∫–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –Ω–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –æ–Ω–∞ —Å–æ–∑–¥–∞—Å—Ç –∫–∞—Ç–∞–ª–æ–≥ `/run/uwsgi`, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–π —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –î–∏—Ä–µ–∫—Ç–∏–≤–∞ `ExecStart` –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `/usr/local/bin/uwsgi` 
–≤ —Ä–µ–∂–∏–º–µ `Emperor mode`.

–ó–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–∏—Å:
```
sudo systemctl start uwsgi
```
–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É —Å—Ç–µ–Ω–¥–∞.

***–¢—Ä–µ—Ç–∏–π —Å—Ç–µ–Ω–¥ - NodeJS***

Node –∏–ª–∏ Node.js ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –¥–≤–∏–∂–∫–µ V8, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∞—è JavaScript –∏–∑ —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –≤ —è–∑—ã–∫ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.

–î–æ–±–∞–≤–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π NodeSource, —Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è LTS Node.js - –≤–µ—Ä—Å–∏—è 14.x.:
```
curl -sL https://rpm.nodesource.com/setup_14.x | bash -
```

–£—Å—Ç–∞–Ω–æ–≤–∏–º Node.js –∏ npm:
```
sudo yum install nodejs
```

–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Node.js (hello.js), –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –∑–∞–¥–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å (localhost) –∏ –ø–æ—Ä—Ç (8000) –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ—Ä–∞–∑—É `Hello World` —Å HTTP-–∫–æ–¥–æ–º 200:
```
var http = require('http');
http.createServer(function (req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.end('Hello World\n');
}).listen(8000, '127.0.0.1');
console.log('Server running at http://localhost:8000/');
```

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PM2. –≠—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Node.js. PM2 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–µ–º–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
–£—Å—Ç–∞–Ω–æ–≤–∫—É –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ npm –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ app:
```
sudo npm install pm2@latest -g
```

–ó–∞–ø—É—Å—Ç–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```
pm2 start hello.js
```

PM2 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç App name (–∏–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è .js) –∏ PM2 id. –¢–∞–∫–∂–µ PM2 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥—Ä—É–≥—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é: PID –ø—Ä–æ—Ü–µ—Å—Å–∞, —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏.
–ó–∞–ø—É—â–µ–Ω–Ω–æ–µ —Å –ø–æ–º–æ—â—å—é PM2 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫ –∏–ª–∏ —Å–±–æ–µ–≤, –æ–¥–Ω–∞–∫–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ. –î–ª—è —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ–¥–∫–æ–º–∞–Ω–¥–∞ startup.
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–ø—É—Å–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ PM2 –∏ –≤—Å–µ—Ö –µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤–º–µ—Å—Ç–µ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Å–µ—Ä–≤–µ—Ä–∞. –¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ systemd).
```
sudo pm2 startup systemd
```

–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É —Å—Ç–µ–Ω–¥–∞.