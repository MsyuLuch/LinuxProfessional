# **–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ9**

üîñ–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–ª—è –∫—É—Ä—Å–∞ [Administrator Linux.Professional](https://otus.ru/lessons/linux-professional/)

## **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏** 
 
–ó–∞–¥–∞–Ω–∏—è –Ω–∞ –≤—ã–±–æ—Ä:

 - –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é ps ax –∏—Å–ø–æ–ª—å–∑—É—è –∞–Ω–∞–ª–∏–∑ /proc

–†–µ–∑—É–ª—å—Ç–∞—Ç –î–ó - —Ä–∞–±–æ—á–∏–π —Å–∫—Ä–∏–ø—Ç –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å
 
# **–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**

–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç https://github.com/MsyuLuch/LinuxProfessional/tree/main/homework-9

–ó–¥–µ—Å—å:
- `readme.md` - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
- `ps.sh` - —Å–∫—Ä–∏–ø—Ç, –ø—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–æ–≥ –∫–æ–º–∞–Ω–¥—ã `ps -aux` 

# **–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è ‚Ññ9**

***–ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–æ–≥ –∫–æ–º–∞–Ω–¥—ã ps -aux***

–ü–æ–ª—É—á–∏–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ (/proc ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞):
```
pid_array=$(ls /proc | grep -E '^[0-9]+$' | sort -n)
```
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö `/proc/[PID]/stat`, `/proc/[PID]/status`:
```
USER	–ò–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
RSS	    –†–∞–∑–º–µ—Ä —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –ø–∞–º—è—Ç–∏)
STAT	–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–∞:
        R ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
        D ‚Äî –æ–∂–∏–¥–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫
        S ‚Äî –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω (< 20 —Å)
        T ‚Äî –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
        Z ‚Äî –∑–æ–º–±–∏
        –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏:
        W ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–≥—Ä—É–∂–µ–Ω –Ω–∞ –¥–∏—Å–∫
        < ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
        N ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç –ø–æ–Ω–∏–∂–µ–Ω–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
        L ‚Äî –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏
        s ‚Äî –ø—Ä–æ—Ü–µ—Å—Å —è–≤–ª—è–µ—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º —Å–µ–∞–Ω—Å–∞
COMMAND	–ò–º—è –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥—ã
```

–ß—Ç–æ–±—ã —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:

 - `/proc/uptime` - –≤—Ä–µ–º—è –±–µ–∑–æ—Ç–∫–∞–∑–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã (—Å–µ–∫—É–Ω–¥—ã)
 - `/proc/[PID]/stat` - 
    - [14] utime - –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤—Ä–µ–º—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–¥–µ, –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –≤ —Ç–∞–∫—Ç–∞—Ö
    - [15] stime - –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤—Ä–µ–º—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤ –∫–æ–¥–µ —è–¥—Ä–∞, –∏–∑–º–µ—Ä—è–µ—Ç—Å—è —Ç–∞–∫—Ç–∞–º–∏ —á–∞—Å–æ–≤
    - [16] cutime - –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –¥–ª—è –¥–µ—Ç–µ–π, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–¥–µ (–≤ —Ç–∞–∫—Ç–∞—Ö—á–∞—Å–æ–≤)
    - [17] cstime - –û–∂–∏–¥–∞–Ω–∏–µ –¥–µ—Ç—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–≥–æ –≤ –∫–æ–¥–µ —è–¥—Ä–∞ (–≤ —Ç–∞–∫—Ç–∞—Ö—á–∞—Å–æ–≤)
    - [22] starttime - –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∏–∑–º–µ—Ä—è–µ–º–æ–µ —Ç–∞–∫—Ç–∞–º–∏ —á–∞—Å–æ–≤

- `getconf CLK_TCK` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–∫—Ç–æ–≤ —á–∞—Å–æ–≤ (`clock_ticks`).

–û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—â–µ–µ –≤—Ä–µ–º—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å:
```
total_time = utime + stime
```
–í–∫–ª—é—á–∞–µ–º –≤ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤—Ä–µ–º—è –æ—Ç –¥–µ—Ç–µ–π:
```
total_time = total_time + cutime + cstime
```
–ü–æ–ª—É—á–∞–µ–º –æ–±—â–µ–µ –≤—Ä–µ–º—è, –ø—Ä–æ—à–µ–¥—à–µ–µ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞:
```
seconds = uptime - (starttime / clock_ticks)
```
–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞:
```
cpu_usage = 100 * ((total_time / clock_ticks) / seconds)
```
–ß—Ç–æ–±—ã —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–º—è—Ç–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:
 - `/proc/meminfo` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏

 - `/proc/[PID]/statm` - 
    - [2] resident - resident set size
    - [6] data_and_stack - data + stack
    
–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏:
```
memory_usage = (resident + data_and_stack) * 100) / total_memory
```